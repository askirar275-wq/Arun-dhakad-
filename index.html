<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fruit Ninja Swipe üçâ</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box;}
  body{background:#111;overflow:hidden;display:flex;justify-content:center;align-items:center;height:100vh;}
  canvas{background:#222;border:2px solid #fff;border-radius:12px;}
  #scoreBox{position:absolute;top:10px;left:50%;transform:translateX(-50%);color:#fff;font-size:22px;font-weight:bold;}
</style>
</head>
<body>
<div id="scoreBox">üçé Score: <span id="score">0</span></div>
<canvas id="gameCanvas"></canvas>

<script>
const canvas=document.getElementById("gameCanvas");
const ctx=canvas.getContext("2d");
let W,H;
function resizeCanvas(){
  W=window.innerWidth*0.95;
  H=window.innerHeight*0.85;
  canvas.width=W;canvas.height=H;
}
resizeCanvas();
window.addEventListener("resize",resizeCanvas);

let fruits=[];
let score=0;
let swipeTrail=[];

// ü•≠ Fruit create
function spawnFruit(){
  const radius=20+Math.random()*20;
  const x=Math.random()*(W-radius*2)+radius;
  const y=H+radius;
  const speedY=4+Math.random()*3;
  const angle=Math.random()*Math.PI*2;
  const speedX=Math.cos(angle)*2;
  fruits.push({x,y,r:radius,sx:speedX,sy:-speedY});
}
setInterval(spawnFruit,1200);

// ‚ú® Draw swipe trail
function drawSwipe(){
  if(swipeTrail.length<2) return;
  ctx.beginPath();
  ctx.moveTo(swipeTrail[0].x,swipeTrail[0].y);
  for(let i=1;i<swipeTrail.length;i++){
    ctx.lineTo(swipeTrail[i].x,swipeTrail[i].y);
  }
  ctx.strokeStyle="rgba(0,255,200,0.8)";
  ctx.lineWidth=4;
  ctx.stroke();
}

// ü•ù Check fruit cut
function checkCut(fruit){
  for(let i=1;i<swipeTrail.length;i++){
    let x1=swipeTrail[i-1].x, y1=swipeTrail[i-1].y;
    let x2=swipeTrail[i].x, y2=swipeTrail[i].y;
    // distance from fruit center to line
    let A=x2-x1, B=y2-y1;
    let C=fruit.x-x1, D=fruit.y-y1;
    let dot=(A*C+B*D)/(A*A+B*B);
    let closestX=x1+dot*A, closestY=y1+dot*B;
    let dist=Math.hypot(fruit.x-closestX,fruit.y-closestY);
    if(dist<fruit.r) return true;
  }
  return false;
}

// üéÆ Game loop
function gameLoop(){
  ctx.clearRect(0,0,W,H);

  // fruits update
  for(let i=fruits.length-1;i>=0;i--){
    let f=fruits[i];
    f.x+=f.sx;
    f.y+=f.sy;
    f.sy+=0.15; // gravity
    ctx.beginPath();
    ctx.arc(f.x,f.y,f.r,0,Math.PI*2);
    ctx.fillStyle="hsl("+Math.random()*360+",70%,50%)";
    ctx.fill();
    // cut check
    if(checkCut(f)){
      fruits.splice(i,1);
      score+=1;
      document.getElementById("score").innerText=score;
    }
    // remove if out
    if(f.y-f.r>H) fruits.splice(i,1);
  }

  // swipe draw
  drawSwipe();
  // fade old swipe
  swipeTrail=swipeTrail.slice(-10);

  requestAnimationFrame(gameLoop);
}
gameLoop();

// üì± Touch + Mouse Controls
function addPoint(x,y){ swipeTrail.push({x,y}); }

canvas.addEventListener("mousemove",e=>{
  if(e.buttons>0) addPoint(e.offsetX,e.offsetY);
});
canvas.addEventListener("mousedown",e=>{
  addPoint(e.offsetX,e.offsetY);
});
canvas.addEventListener("mouseup",()=>{swipeTrail=[];});

canvas.addEventListener("touchmove",e=>{
  e.preventDefault();
  let t=e.touches[0];
  let rect=canvas.getBoundingClientRect();
  addPoint(t.clientX-rect.left,t.clientY-rect.top);
});
canvas.addEventListener("touchstart",e=>{
  let t=e.touches[0];
  let rect=canvas.getBoundingClientRect();
  addPoint(t.clientX-rect.left,t.clientY-rect.top);
});
canvas.addEventListener("touchend",()=>{swipeTrail=[];});
</script>
</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fruit Ninja Swipe üçâ</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box;}
  body{background:#111;overflow:hidden;display:flex;justify-content:center;align-items:center;height:100vh;}
  canvas{background:#222;border:2px solid #fff;border-radius:12px;}
  #scoreBox{position:absolute;top:10px;left:50%;transform:translateX(-50%);color:#fff;font-size:22px;font-weight:bold;}
</style>
</head>
<body>
<div id="scoreBox">üçé Score: <span id="score">0</span></div>
<canvas id="gameCanvas"></canvas>

<script>
const canvas=document.getElementById("gameCanvas");
const ctx=canvas.getContext("2d");
let W,H;
function resizeCanvas(){
  W=window.innerWidth*0.95;
  H=window.innerHeight*0.85;
  canvas.width=W;canvas.height=H;
}
resizeCanvas();
window.addEventListener("resize",resizeCanvas);

let fruits=[];
let score=0;
let swipeTrail=[];

// ü•≠ Fruit create
function spawnFruit(){
  const radius=20+Math.random()*20;
  const x=Math.random()*(W-radius*2)+radius;
  const y=H+radius;
  const speedY=4+Math.random()*3;
  const angle=Math.random()*Math.PI*2;
  const speedX=Math.cos(angle)*2;
  fruits.push({x,y,r:radius,sx:speedX,sy:-speedY});
}
setInterval(spawnFruit,1200);

// ‚ú® Draw swipe trail
function drawSwipe(){
  if(swipeTrail.length<2) return;
  ctx.beginPath();
  ctx.moveTo(swipeTrail[0].x,swipeTrail[0].y);
  for(let i=1;i<swipeTrail.length;i++){
    ctx.lineTo(swipeTrail[i].x,swipeTrail[i].y);
  }
  ctx.strokeStyle="rgba(0,255,200,0.8)";
  ctx.lineWidth=4;
  ctx.stroke();
}

// ü•ù Check fruit cut
function checkCut(fruit){
  for(let i=1;i<swipeTrail.length;i++){
    let x1=swipeTrail[i-1].x, y1=swipeTrail[i-1].y;
    let x2=swipeTrail[i].x, y2=swipeTrail[i].y;
    // distance from fruit center to line
    let A=x2-x1, B=y2-y1;
    let C=fruit.x-x1, D=fruit.y-y1;
    let dot=(A*C+B*D)/(A*A+B*B);
    let closestX=x1+dot*A, closestY=y1+dot*B;
    let dist=Math.hypot(fruit.x-closestX,fruit.y-closestY);
    if(dist<fruit.r) return true;
  }
  return false;
}

// üéÆ Game loop
function gameLoop(){
  ctx.clearRect(0,0,W,H);

  // fruits update
  for(let i=fruits.length-1;i>=0;i--){
    let f=fruits[i];
    f.x+=f.sx;
    f.y+=f.sy;
    f.sy+=0.15; // gravity
    ctx.beginPath();
    ctx.arc(f.x,f.y,f.r,0,Math.PI*2);
    ctx.fillStyle="hsl("+Math.random()*360+",70%,50%)";
    ctx.fill();
    // cut check
    if(checkCut(f)){
      fruits.splice(i,1);
      score+=1;
      document.getElementById("score").innerText=score;
    }
    // remove if out
    if(f.y-f.r>H) fruits.splice(i,1);
  }

  // swipe draw
  drawSwipe();
  // fade old swipe
  swipeTrail=swipeTrail.slice(-10);

  requestAnimationFrame(gameLoop);
}
gameLoop();

// üì± Touch + Mouse Controls
function addPoint(x,y){ swipeTrail.push({x,y}); }

canvas.addEventListener("mousemove",e=>{
  if(e.buttons>0) addPoint(e.offsetX,e.offsetY);
});
canvas.addEventListener("mousedown",e=>{
  addPoint(e.offsetX,e.offsetY);
});
canvas.addEventListener("mouseup",()=>{swipeTrail=[];});

canvas.addEventListener("touchmove",e=>{
  e.preventDefault();
  let t=e.touches[0];
  let rect=canvas.getBoundingClientRect();
  addPoint(t.clientX-rect.left,t.clientY-rect.top);
});
canvas.addEventListener("touchstart",e=>{
  let t=e.touches[0];
  let rect=canvas.getBoundingClientRect();
  addPoint(t.clientX-rect.left,t.clientY-rect.top);
});
canvas.addEventListener("touchend",()=>{swipeTrail=[];});
</script>
</body>
</html>
